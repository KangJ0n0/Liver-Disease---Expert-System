<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hasil Diagnosis - Sistem Konsultasi Gangguan Hati</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#f0f9ff',
                            100: '#e0f2fe',
                            200: '#bae6fd',
                            300: '#7dd3fc',
                            400: '#38bdf8',
                            500: '#0ea5e9',
                            600: '#0284c7',
                            700: '#0369a1',
                            800: '#075985',
                            900: '#0c4a6e',
                        },
                        secondary: {
                            50: '#f8fafc',
                            100: '#f1f5f9',
                            200: '#e2e8f0',
                            300: '#cbd5e1',
                            400: '#94a3b8',
                            500: '#64748b',
                            600: '#475569',
                            700: '#334155',
                            800: '#1e293b',
                            900: '#0f172a',
                        },
                        accent: {
                            50: '#eff6ff',
                            100: '#dbeafe',
                            200: '#bfdbfe',
                            300: '#93c5fd',
                            400: '#60a5fa',
                            500: '#3b82f6',
                            600: '#2563eb',
                            700: '#1d4ed8',
                            800: '#1e40af',
                            900: '#1e3a8a',
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        serif: ['Merriweather', 'serif'],
                    },
                    boxShadow: {
                        'soft': '0 2px 15px -3px rgba(0, 0, 0, 0.07), 0 10px 20px -2px rgba(0, 0, 0, 0.04)',
                        'elegant': '0 20px 25px -5px rgba(0, 0, 0, 0.05), 0 10px 10px -5px rgba(0, 0, 0, 0.01)',
                    }
                }
            }
        }
    </script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Merriweather:wght@400;700&display=swap">
    <style>
        /* Custom animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }
        @keyframes progressBar {
            from { width: 0%; }
            to { width: var(--progress-width); }
        }
        .animate-fade-in {
            animation: fadeIn 0.5s ease-out forwards;
        }
        .animate-slide-in {
            animation: slideIn 0.6s ease-out forwards;
        }
        .animate-delay-100 { animation-delay: 0.1s; }
        .animate-delay-200 { animation-delay: 0.2s; }
        .animate-delay-300 { animation-delay: 0.3s; }
        .animate-delay-400 { animation-delay: 0.4s; }
        .animate-delay-500 { animation-delay: 0.5s; }
        
        /* Progress bar animation */
        .progress-bar {
            animation: progressBar 1.5s ease-out forwards;
            animation-delay: 0.5s;
        }
        
        /* Smooth transitions */
        .transition-all {
            transition-property: all;
            transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
            transition-duration: 300ms;
        }

        /* Print styles */
        @media print {
            .no-print { display: none !important; }
            .print-page { page-break-inside: avoid; }
        }
    </style>
</head>
<body class="bg-gray-50 font-sans text-secondary-800 antialiased">
    <!-- Include Header -->
    {% include "diagnosis/static/header.html" %}

    <!-- Hero Section -->
    <section class="relative bg-gradient-to-r from-primary-600 to-accent-700 text-white py-20 md:py-24 min-h-[60vh] no-print">
        <!-- Background image overlay -->
        <div class="absolute inset-0 bg-[url('https://images.unsplash.com/photo-1576091160550-2173dba999ef?ixlib=rb-1.2.1&auto=format&fit=crop&w=1920&q=80')] opacity-20 bg-cover bg-center"></div>
        <div class="absolute inset-0 bg-gradient-to-r from-primary-600/90 to-accent-700/90"></div>
        
        <!-- Content -->
        <div class="container mx-auto px-4 md:px-8 relative">
            <div class="max-w-3xl mx-auto text-center animate-fade-in">
                <h1 class="text-3xl md:text-4xl lg:text-5xl font-bold mb-6">
                    Hasil Diagnosis Penyakit Hati
                </h1>
                <p class="text-xl md:text-2xl text-primary-100 leading-relaxed">
                    Berikut adalah hasil analisis gejala Anda menggunakan algoritma Naive Bayes
                </p>
            </div>
        </div>
        
        <!-- SVG Wave yang diperbaiki - lebih kecil -->
        <div class="absolute bottom-0 left-0 right-0">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 100" class="w-full h-auto">
                <path fill="#ffffff" fill-opacity="1" d="M0,32L48,37.3C96,43,192,53,288,53.3C384,53,480,43,576,42.7C672,43,768,53,864,58.7C960,64,1056,64,1152,58.7C1248,53,1344,43,1392,37.3L1440,32L1440,100L1392,100C1344,100,1248,100,1152,100C1056,100,960,100,864,100C768,100,672,100,576,100C480,100,384,100,288,100C192,100,96,100,48,100L0,100Z"></path>
            </svg>
        </div>
    </section>

    <!-- Patient Information Section -->
    <section class="py-8 bg-white print-page">
        <div class="container mx-auto px-4 md:px-8">
            <div class="bg-gray-50 rounded-2xl p-6 mb-8 animate-fade-in">
                <div class="flex items-center justify-between flex-wrap gap-4">
                    <div>
                        <h2 class="text-lg font-semibold text-secondary-900 mb-2">Informasi Pasien</h2>
                        <div class="grid md:grid-cols-3 gap-6 text-sm text-secondary-600">
                            <div>
                                <span class="font-medium">Nama:</span> Ahmad Rizki Pratama
                            </div>
                            <div>
                                <span class="font-medium">Usia:</span> 35 tahun
                            </div>
                            <div>
                                <span class="font-medium">Jenis Kelamin:</span> Laki-laki
                            </div>
                        </div>
                    </div>
                    <div class="text-right">
                        <p class="text-sm text-secondary-600 mb-1">Tanggal Diagnosis</p>
                        <p class="text-lg font-semibold text-secondary-900">24 Mei 2025</p>
                        <p class="text-sm text-secondary-500">ID: DX-2025-0524-001</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Main Diagnosis Result Section -->
    <section class="py-8">
        <div class="container mx-auto px-4 md:px-8">
            <div class="grid lg:grid-cols-3 gap-8">
                <!-- Primary Diagnosis -->
                <div class="lg:col-span-2">
                    <!-- Main Result Card -->
                    <div class="bg-white rounded-2xl shadow-elegant p-8 mb-8 animate-fade-in animate-delay-100 print-page">
                        <div class="flex items-center justify-between mb-6">
                            <h2 class="text-2xl font-bold text-secondary-900">Hasil Diagnosis Utama</h2>
                            <div class="bg-red-100 text-red-800 px-3 py-1 rounded-full text-sm font-medium">
                                Tinggi
                            </div>
                        </div>
                        
                        <div class="grid md:grid-cols-2 gap-8 items-center">
                            <!-- Diagnosis Image -->
                            <div class="text-center">
                                <img src="https://images.unsplash.com/photo-1715529134972-221f23a6c701?q=80&w=2052&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="Hepatitis B" class="w-full h-64 object-cover rounded-xl shadow-lg mb-4">
                                <h3 class="text-2xl font-bold text-secondary-900 mb-2">Hepatitis B</h3>
                                <p class="text-secondary-600">Infeksi virus yang menyerang hati dan dapat menyebabkan penyakit akut maupun kronis</p>
                            </div>
                            
                            <!-- Probability Results -->
                            <div>
                                <h4 class="text-lg font-semibold text-secondary-900 mb-4">Probabilitas Naive Bayes</h4>
                                
                                <!-- Main Probability -->
                                <div class="mb-6">
                                    <div class="flex justify-between items-center mb-2">
                                        <span class="font-medium text-secondary-900">Hepatitis B</span>
                                        <span class="text-2xl font-bold text-red-600">87.3%</span>
                                    </div>
                                    <div class="w-full bg-gray-200 rounded-full h-3">
                                        <div class="progress-bar bg-gradient-to-r from-red-500 to-red-600 h-3 rounded-full" style="--progress-width: 87.3%"></div>
                                    </div>
                                </div>

                                <!-- Confidence Level -->
                                <div class="bg-red-50 border border-red-200 rounded-lg p-4 mb-4">
                                    <div class="flex items-center">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-red-600 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z" />
                                        </svg>
                                        <span class="font-medium text-red-800">Tingkat Kepercayaan Tinggi</span>
                                    </div>
                                    <p class="text-red-700 text-sm mt-1">Berdasarkan gejala yang dilaporkan, terdapat indikasi kuat adanya infeksi Hepatitis B</p>
                                </div>

                                <!-- Algorithm Info -->
                                <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                                    <h5 class="font-medium text-blue-900 mb-2">Informasi Algoritma</h5>
                                    <ul class="text-blue-800 text-sm space-y-1">
                                        <li>• Model: Naive Bayes Classifier</li>
                                        <li>• Dataset: 1,247 kasus medis</li>
                                        <li>• Akurasi Model: 92.4%</li>
                                        <li>• Fitur Dianalisis: 12 gejala</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Alternative Diagnoses -->
                    <div class="bg-white rounded-2xl shadow-elegant p-8 animate-fade-in animate-delay-200 print-page">
                        <h3 class="text-xl font-bold text-secondary-900 mb-6">Diagnosis Alternatif</h3>
                        
                        <div class="space-y-4">
                            <!-- Hepatitis A -->
                            <div class="flex items-center justify-between p-4 bg-yellow-50 border border-yellow-200 rounded-lg">
                                <div class="flex items-center">
                                    <img src="https://images.unsplash.com/photo-1584515933487-779824d29309?ixlib=rb-1.2.1&auto=format&fit=crop&w=100&q=80" alt="Hepatitis A" class="w-12 h-12 object-cover rounded-lg mr-4">
                                    <div>
                                        <h4 class="font-semibold text-secondary-900">Hepatitis A</h4>
                                        <p class="text-sm text-secondary-600">Infeksi virus akut pada hati</p>
                                    </div>
                                </div>
                                <div class="text-right">
                                    <span class="text-lg font-bold text-yellow-600">8.7%</span>
                                    <div class="w-20 bg-gray-200 rounded-full h-2 mt-1">
                                        <div class="bg-yellow-500 h-2 rounded-full" style="width: 8.7%"></div>
                                    </div>
                                </div>
                            </div>

                            <!-- Fatty Liver -->
                            <div class="flex items-center justify-between p-4 bg-orange-50 border border-orange-200 rounded-lg">
                                <div class="flex items-center">
                                    <img src="https://images.unsplash.com/photo-1631815588090-d4bfec5b1ccb?ixlib=rb-1.2.1&auto=format&fit=crop&w=100&q=80" alt="Fatty Liver" class="w-12 h-12 object-cover rounded-lg mr-4">
                                    <div>
                                        <h4 class="font-semibold text-secondary-900">Fatty Liver (Perlemakan Hati)</h4>
                                        <p class="text-sm text-secondary-600">Penumpukan lemak berlebih di hati</p>
                                    </div>
                                </div>
                                <div class="text-right">
                                    <span class="text-lg font-bold text-orange-600">3.2%</span>
                                    <div class="w-20 bg-gray-200 rounded-full h-2 mt-1">
                                        <div class="bg-orange-500 h-2 rounded-full" style="width: 3.2%"></div>
                                    </div>
                                </div>
                            </div>

                            <!-- Cirrhosis -->
                            <div class="flex items-center justify-between p-4 bg-purple-50 border border-purple-200 rounded-lg">
                                <div class="flex items-center">
                                    <img src="https://images.unsplash.com/photo-1715529282031-1d9967485bdd?q=80&w=2130&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="Cirrhosis" class="w-12 h-12 object-cover rounded-lg mr-4">
                                    <div>
                                        <h4 class="font-semibold text-secondary-900">Sirosis Hati</h4>
                                        <p class="text-sm text-secondary-600">Kerusakan hati stadium lanjut</p>
                                    </div>
                                </div>
                                <div class="text-right">
                                    <span class="text-lg font-bold text-purple-600">0.8%</span>
                                    <div class="w-20 bg-gray-200 rounded-full h-2 mt-1">
                                        <div class="bg-purple-500 h-2 rounded-full" style="width: 0.8%"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Sidebar Information -->
                <div class="space-y-8">
                    <!-- Symptoms Analyzed -->
                    <div class="bg-white rounded-2xl shadow-elegant p-6 animate-fade-in animate-delay-300">
                        <h3 class="text-lg font-bold text-secondary-900 mb-4">Gejala yang Dianalisis</h3>
                        <div class="space-y-3">
                            <div class="flex items-center justify-between p-3 bg-red-50 border border-red-200 rounded-lg">
                                <span class="text-secondary-900 text-sm">Kuning (Jaundice)</span>
                                <span class="text-red-600 font-semibold text-sm">✓ Ada</span>
                            </div>
                            <div class="flex items-center justify-between p-3 bg-red-50 border border-red-200 rounded-lg">
                                <span class="text-secondary-900 text-sm">Kelelahan</span>
                                <span class="text-red-600 font-semibold text-sm">✓ Ada</span>
                            </div>
                            <div class="flex items-center justify-between p-3 bg-red-50 border border-red-200 rounded-lg">
                                <span class="text-secondary-900 text-sm">Mual dan Muntah</span>
                                <span class="text-red-600 font-semibold text-sm">✓ Ada</span>
                            </div>
                            <div class="flex items-center justify-between p-3 bg-red-50 border border-red-200 rounded-lg">
                                <span class="text-secondary-900 text-sm">Nyeri Perut Kanan Atas</span>
                                <span class="text-red-600 font-semibold text-sm">✓ Ada</span>
                            </div>
                            <div class="flex items-center justify-between p-3 bg-red-50 border border-red-200 rounded-lg">
                                <span class="text-secondary-900 text-sm">Urin Berwarna Gelap</span>
                                <span class="text-red-600 font-semibold text-sm">✓ Ada</span>
                            </div>
                            <div class="flex items-center justify-between p-3 bg-gray-50 border border-gray-200 rounded-lg">
                                <span class="text-secondary-600 text-sm">Demam</span>
                                <span class="text-gray-500 font-semibold text-sm">✗ Tidak</span>
                            </div>
                            <div class="flex items-center justify-between p-3 bg-gray-50 border border-gray-200 rounded-lg">
                                <span class="text-secondary-600 text-sm">Pembengkakan Kaki</span>
                                <span class="text-gray-500 font-semibold text-sm">✗ Tidak</span>
                            </div>
                        </div>
                    </div>

                    <!-- Recommendations -->
                    <div class="bg-white rounded-2xl shadow-elegant p-6 animate-fade-in animate-delay-400">
                        <h3 class="text-lg font-bold text-secondary-900 mb-4">Rekomendasi</h3>
                        <div class="space-y-4">
                            <div class="bg-red-50 border border-red-200 rounded-lg p-4">
                                <div class="flex items-start">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-red-600 mr-3 mt-0.5 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z" />
                                    </svg>
                                    <div>
                                        <h4 class="font-semibold text-red-800 mb-1">Segera Konsultasi Dokter</h4>
                                        <p class="text-red-700 text-sm">Hasil menunjukkan probabilitas tinggi Hepatitis B. Diperlukan pemeriksaan medis lebih lanjut.</p>
                                    </div>
                                </div>
                            </div>

                            <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                                <div class="flex items-start">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-blue-600 mr-3 mt-0.5 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                                    </svg>
                                    <div>
                                        <h4 class="font-semibold text-blue-800 mb-1">Pemeriksaan Lab</h4>
                                        <p class="text-blue-700 text-sm">HBsAg, Anti-HBc, ALT/AST, Bilirubin</p>
                                    </div>
                                </div>
                            </div>

                            <div class="bg-green-50 border border-green-200 rounded-lg p-4">
                                <div class="flex items-start">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-600 mr-3 mt-0.5 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                                    </svg>
                                    <div>
                                        <h4 class="font-semibold text-green-800 mb-1">Langkah Pencegahan</h4>
                                        <p class="text-green-700 text-sm">Hindari alkohol, istirahat cukup, jaga kebersihan</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Disclaimer Section -->
    <section class="py-8 bg-gray-50">
        <div class="container mx-auto px-4 md:px-8">
            <div class="bg-amber-50 border border-amber-200 rounded-2xl p-6 animate-fade-in">
                <div class="flex items-start">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-amber-600 mr-4 mt-1 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z" />
                    </svg>
                    <div>
                        <h3 class="text-lg font-bold text-amber-800 mb-2">Penting untuk Diperhatikan</h3>
                        <p class="text-amber-700 mb-4">
                            Hasil diagnosis ini merupakan analisis awal berdasarkan algoritma machine learning dan tidak dapat menggantikan diagnosis medis profesional. Hasil ini bertujuan untuk memberikan informasi awal dan panduan untuk langkah selanjutnya.
                        </p>
                        <ul class="text-amber-700 text-sm space-y-1">
                            <li>• Hasil diagnosis memerlukan konfirmasi melalui pemeriksaan medis lebih lanjut</li>
                            <li>• Konsultasikan hasil ini dengan dokter spesialis untuk diagnosis yang akurat</li>
                            <li>• Lakukan pemeriksaan laboratorium sesuai rekomendasi dokter</li>
                            <li>• Jangan melakukan pengobatan sendiri berdasarkan hasil ini</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Include Footer -->
    {% include "diagnosis/static/footer.html" %}

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Animate progress bars on scroll
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const progressBars = entry.target.querySelectorAll('.progress-bar');
                        progressBars.forEach(bar => {
                            bar.style.animationPlayState = 'running';
                        });
                    }
                });
            });

            document.querySelectorAll('.progress-bar').forEach(bar => {
                observer.observe(bar.parentElement);
            });
        });
    </script>
</body>
</html>